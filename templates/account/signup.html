{% extends '_base-accounts-users.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Sign up{% endblock %}

{% block content %}


<div class="caption">
  <div class="container">
    <h2>Sign up</h2>
    <div class="svg d-flex justify-content-center">
      <!-- <a href="{% url 'social:begin' 'facebook' %}">
      <img src="{% static "images/006-facebook.svg" %}" max-width="70" height="70">
    </a> -->
      <a href="#" id="google">
        <img src="{% static "images/009-suche.svg" %}" max-width="70" height="70">
      </a>
      <!-- <a href="{% url 'social:begin' 'linkedin-oauth2' %}">
      <img src="{% static "images/007-linkedin.svg" %}" max-width="70" height="70">
    </a> -->
    </div>
    <form method="post"
      onsubmit="if(document.getElementById('agree').checked) { return true; } else { alert('Please indicate that you have read and agree to the Terms and Conditions and Privacy Policy'); return false; }">
      {% csrf_token %}
      {{ form|crispy }}
      <input type="checkbox" name="checkbox" value="check" id="agree" /> I have read and agree to the <a
        href="{% url 'terms' %}" target="_blank">Terms and Conditions</a> and <a href="{% url 'privacy' %}"
        target="_blank">Privacy Policy</a>
      <div class=" justify-content-center text-center">
        <button class="btn btn-outline-primary" type="submit">Sign up</button>
      </div>
    </form>
  </div>

  <script type="text/javascript">
    $('#agree').change(function(){
  
  // jquery shorthand conditioning statement. If true use link1 if not use link2.
  var c = this.checked ? "{% url 'social:begin' 'google-oauth2' %}" : "{% url 'account_signup' %}";
  console.log('hier')
  // change the href attribute for the element ID = download to the value stored in 'c'.
  $('#google').attr("href", c);
  });
    </script>
  {% endblock content %}